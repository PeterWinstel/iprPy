
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>iprPy.database package &#8212; iprPy 0.9.0 documentation</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="iprPy.input package" href="input.html" />
    <link rel="prev" title="iprPy.calculation package" href="calculation.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="input.html" title="iprPy.input package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="calculation.html" title="iprPy.calculation package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">iprPy 0.9.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">iprPy package</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="iprpy-database-package">
<h1>iprPy.database package<a class="headerlink" href="#iprpy-database-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-iprPy.database">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-iprPy.database" title="Permalink to this headline">¶</a></h2>
<dl class="attribute">
<dt id="iprPy.database.loaded">
<code class="descname">loaded</code><a class="headerlink" href="#iprPy.database.loaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of the derived classes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="iprPy.database.databases_dict">
<code class="descname">databases_dict</code><a class="headerlink" href="#iprPy.database.databases_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of the database styles that successfully loaded. The
dictionary keys are the database style names, and the values are the
loaded modules.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="iprPy.database.Database">
<em class="property">class </em><code class="descname">Database</code><span class="sig-paren">(</span><em>host</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.Database" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for handling different database styles in the same fashion.  The
class defines the common methods and attributes, which are then uniquely
implemented for each style.  The available styles are loaded from the
iprPy.databases submodule.</p>
<dl class="method">
<dt id="iprPy.database.Database.add_record">
<code class="descname">add_record</code><span class="sig-paren">(</span><em>record=None</em>, <em>name=None</em>, <em>style=None</em>, <em>content=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.Database.add_record" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new record to the database.  Will issue an error if a
matching record already exists in the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>record</strong> (<em>iprPy.Record</em><em>, </em><em>optional</em>) – The new record to add to the database.  If not given, then name,
style and content are required.</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The name to assign to the new record.  Required if record is not
given.</li>
<li><strong>style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The record style for the new record.  Required if record is not
given.</li>
<li><strong>content</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The xml content of the new record.  Required if record is not
given.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Either the given record or a record composed of the name, style,
and content.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">iprPy.Record</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AttributeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a> – If add_record is not defined for database style.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="iprPy.database.Database.add_tar">
<code class="descname">add_tar</code><span class="sig-paren">(</span><em>record=None</em>, <em>name=None</em>, <em>style=None</em>, <em>tar=None</em>, <em>root_dir=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.Database.add_tar" title="Permalink to this definition">¶</a></dt>
<dd><p>Archives and stores a folder associated with a record.  Issues an
error if exactly one matching record is not found in the database, or
the associated record already has a tar archive.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>database_info</strong> (<em>mdcs.MDCS</em>) – The MDCS class used for accessing the curator database.</li>
<li><strong>record</strong> (<em>iprPy.Record</em><em>, </em><em>optional</em>) – The record to associate the tar archive with.  If not given, then
name and/or style necessary to uniquely identify the record are
needed.</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – .The name to use in uniquely identifying the record.</li>
<li><strong>style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – .The style to use in uniquely identifying the record.</li>
<li><strong>tar</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a><em>, </em><em>optional</em>) – The bytes content of a tar file to save.  tar cannot be given
with root_dir.</li>
<li><strong>root_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – Specifies the root directory for finding the directory to archive.
The directory to archive is at &lt;root_dir&gt;/&lt;name&gt;.  (Default is to
set root_dir to the current working directory.)  tar cannot be given
with root_dir.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – If style and/or name content given with record or the record already
has an archive.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="iprPy.database.Database.build_refs">
<code class="descname">build_refs</code><span class="sig-paren">(</span><em>lib_directory=None</em>, <em>refresh=False</em>, <em>include=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.Database.build_refs" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds reference records from a library to a database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lib_directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The directory path for the library.  If not given, then it will use
the iprPy library directory.</li>
<li><strong>refresh</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>, </em><em>optional</em>) – If False (default) only new reference records are added.  If True,
all existing reference records are refreshed by deleting the
current ones in the database and uploading the references in
lib_directory.  If a list is given, then only the reference
record styles named in the list are refreshed.</li>
<li><strong>include</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>, </em><em>optional</em>) – The reference record style(s) to copy to the database.  If not
given will upload all record styles found in lib_directory.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="iprPy.database.Database.check_records">
<code class="descname">check_records</code><span class="sig-paren">(</span><em>record_style=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.Database.check_records" title="Permalink to this definition">¶</a></dt>
<dd><p>Counts and checks on the status of records in a database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>record_style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The record style to check on.  If not given, then the available record
styles will be listed and the user prompted to pick one.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="iprPy.database.Database.clean_records">
<code class="descname">clean_records</code><span class="sig-paren">(</span><em>run_directory=None</em>, <em>record_style=None</em>, <em>records=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.Database.clean_records" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets all records of a given style that issued errors. Useful if the
errors are due to external conditions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>run_directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The directory where the cleaned calculation instances are to be
returned.</li>
<li><strong>record_style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The record style to clean.  If not given, then the available record
styles will be listed and the user prompted to pick one.</li>
<li><strong>records</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>, </em><em>optional</em>) – A list of iprPy.Record objects from the database to clean.  Allows
the user full control on which records to reset.  Cannot be given
with record_style.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="iprPy.database.Database.copy_records">
<code class="descname">copy_records</code><span class="sig-paren">(</span><em>dbase2</em>, <em>record_style=None</em>, <em>records=None</em>, <em>includetar=True</em>, <em>overwrite=False</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.Database.copy_records" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies records from one database to another.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dbase2</strong> (<em>iprPy.Database</em>) – The database to copy to.</li>
<li><strong>record_style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The record style to copy.  If record_style and records not
given, then the available record styles will be listed and the
user prompted to pick one.  Cannot be given with records.</li>
<li><strong>records</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>, </em><em>optional</em>) – A list of iprPy.Record obejcts from the current database to copy
to dbase2.  Allows the user full control on which records to
copy/update.  Cannot be given with record_style.</li>
<li><strong>includetar</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, the tar archives will be copied along with the records.
If False, only the records will be copied. (Default is True).</li>
<li><strong>overwrite</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) – If False (default) only new records and tars will be copied.
If True, all existing content will be updated.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="iprPy.database.Database.delete_record">
<code class="descname">delete_record</code><span class="sig-paren">(</span><em>record=None</em>, <em>name=None</em>, <em>style=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.Database.delete_record" title="Permalink to this definition">¶</a></dt>
<dd><p>Permanently deletes a record from the database.  Will issue an error
if exactly one matching record is not found in the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>record</strong> (<em>iprPy.Record</em><em>, </em><em>optional</em>) – The record to delete from the database.  If not given, name and/or
style are needed to uniquely define the record to delete.</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The name of the record to delete.</li>
<li><strong>style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The style of the record to delete.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AttributeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a> – If delete_record is not defined for database style.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="iprPy.database.Database.delete_tar">
<code class="descname">delete_tar</code><span class="sig-paren">(</span><em>record=None</em>, <em>name=None</em>, <em>style=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.Database.delete_tar" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a tar file from the database.  Issues an error if exactly one
matching record is not found in the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>record</strong> (<em>iprPy.Record</em><em>, </em><em>optional</em>) – The record associated with the tar archive to delete.  If not
given, then name and/or style necessary to uniquely identify
the record are needed.</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – .The name to use in uniquely identifying the record.</li>
<li><strong>style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – .The style to use in uniquely identifying the record.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AttributeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a> – If delete_tar is not defined for database style.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="iprPy.database.Database.destroy_records">
<code class="descname">destroy_records</code><span class="sig-paren">(</span><em>record_style=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.Database.destroy_records" title="Permalink to this definition">¶</a></dt>
<dd><p>Permanently deletes all records of a given style.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>record_style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The record style to delete.  If not given, then the available record
styles will be listed and the user prompted to pick one.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="iprPy.database.Database.get_parent_records">
<code class="descname">get_parent_records</code><span class="sig-paren">(</span><em>record=None</em>, <em>name=None</em>, <em>style=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.Database.get_parent_records" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all records that are parents to the given one</p>
</dd></dl>

<dl class="method">
<dt id="iprPy.database.Database.get_record">
<code class="descname">get_record</code><span class="sig-paren">(</span><em>name=None</em>, <em>style=None</em>, <em>query=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.Database.get_record" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a single matching record from the database.  Issues an error
if multiple or no matching records are found.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The record name or id to limit the search by.</li>
<li><strong>style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The record style to limit the search by.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The single record from the database matching the given parameters.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">iprPy.Record</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AttributeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a> – If get_record is not defined for database style.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="iprPy.database.Database.get_records">
<code class="descname">get_records</code><span class="sig-paren">(</span><em>name=None</em>, <em>style=None</em>, <em>query=None</em>, <em>return_df=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.Database.get_records" title="Permalink to this definition">¶</a></dt>
<dd><p>Produces a list of all matching records in the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The record name or id to limit the search by.</li>
<li><strong>style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The record style to limit the search by.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">All records from the database matching the given parameters.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">list of iprPy.Records</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AttributeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a> – If get_records is not defined for database style.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="iprPy.database.Database.get_records_df">
<code class="descname">get_records_df</code><span class="sig-paren">(</span><em>name=None</em>, <em>style=None</em>, <em>query=None</em>, <em>full=True</em>, <em>flat=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.Database.get_records_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Produces a pandas.DataFrame of all matching records in the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The record style to collect records of.</li>
<li><strong>full</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) – Flag used by the calculation records.  A True value will include
terms for both the calculation’s input and results, while a value
of False will only include input terms (Default is True).</li>
<li><strong>flat</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) – Flag affecting the format of the dictionary terms.  If True, the
dictionary terms are limited to having only str, int, and float
values, which is useful for comparisons.  If False, the term
values can be of any data type, which is convenient for analysis.
(Default is False).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">All records from the database of the given record style.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">pandas.DataFrame</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AttributeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a> – If get_record is not defined for database style.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="iprPy.database.Database.get_tar">
<code class="descname">get_tar</code><span class="sig-paren">(</span><em>record=None</em>, <em>name=None</em>, <em>style=None</em>, <em>raw=False</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.Database.get_tar" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrives the tar archive associated with a record in the database.
Issues an error if exactly one matching record is not found in the
database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>record</strong> (<em>iprPy.Record</em><em>, </em><em>optional</em>) – The record to retrive the associated tar archive for.</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – .The name to use in uniquely identifying the record.</li>
<li><strong>style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – .The style to use in uniquely identifying the record.</li>
<li><strong>raw</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, return the archive as raw binary content. If
False, return as an open tarfile. (Default is False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The tar archive as an open tarfile if raw=False, or as a binary
str if raw=True.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tarfile or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AttributeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a> – If get_tar is not defined for database style.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="iprPy.database.Database.host">
<code class="descname">host</code><a class="headerlink" href="#iprPy.database.Database.host" title="Permalink to this definition">¶</a></dt>
<dd><p>The database’s host.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="iprPy.database.Database.prepare">
<code class="descname">prepare</code><span class="sig-paren">(</span><em>run_directory</em>, <em>calculation</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.Database.prepare" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="iprPy.database.Database.runner">
<code class="descname">runner</code><span class="sig-paren">(</span><em>run_directory</em>, <em>orphan_directory=None</em>, <em>hold_directory=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.Database.runner" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="iprPy.database.Database.select_record_style">
<code class="descname">select_record_style</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.Database.select_record_style" title="Permalink to this definition">¶</a></dt>
<dd><p>Console prompt for selecting a record_style</p>
</dd></dl>

<dl class="attribute">
<dt id="iprPy.database.Database.style">
<code class="descname">style</code><a class="headerlink" href="#iprPy.database.Database.style" title="Permalink to this definition">¶</a></dt>
<dd><p>The database style</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="iprPy.database.Database.update_record">
<code class="descname">update_record</code><span class="sig-paren">(</span><em>record=None</em>, <em>name=None</em>, <em>style=None</em>, <em>content=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.Database.update_record" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces an existing record with a new record of matching name and
style, but new content.  Will issue an error if exactly one
matching record is not found in the databse.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>record</strong> (<em>iprPy.Record</em><em>, </em><em>optional</em>) – The record with new content to update in the database.  If not
given, content is required along with name and/or style to
uniquely define a record to update.</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The name to uniquely identify the record to update.</li>
<li><strong>style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The style of the record to update.</li>
<li><strong>content</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The new xml content to use for the record.  Required if record is
not given.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Either the given record or a record composed of the name, style,
and content.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">iprPy.Record</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AttributeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a> – If update_record is not defined for database style.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="iprPy.database.Database.update_tar">
<code class="descname">update_tar</code><span class="sig-paren">(</span><em>record=None</em>, <em>name=None</em>, <em>style=None</em>, <em>tar=None</em>, <em>root_dir=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.Database.update_tar" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces an existing tar archive for a record with a new one.  Issues
an error if exactly one matching record is not found in the database.
The record’s name must match the name of the directory being archived.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>record</strong> (<em>iprPy.Record</em><em>, </em><em>optional</em>) – The record to associate the tar archive with.  If not given, then
name and/or style necessary to uniquely identify the record are
needed.</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – .The name to use in uniquely identifying the record.</li>
<li><strong>style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – .The style to use in uniquely identifying the record.</li>
<li><strong>tar</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a><em>, </em><em>optional</em>) – The bytes content of a tar file to save.  tar cannot be given
with root_dir.</li>
<li><strong>root_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – Specifies the root directory for finding the directory to archive.
The directory to archive is at &lt;root_dir&gt;/&lt;name&gt;.  (Default is to
set root_dir to the current working directory.)  tar cannot be given
with root_dir.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AttributeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a> – If update_tar is not defined for database style.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="iprPy.database.list_databases">
<code class="descname">list_databases</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.list_databases" title="Permalink to this definition">¶</a></dt>
<dd><p>Gives a list of the pre-defined database names</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>list</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">The names associated with the pre-defined databases.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="iprPy.database.list_run_directories">
<code class="descname">list_run_directories</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.list_run_directories" title="Permalink to this definition">¶</a></dt>
<dd><p>Gives a list of the pre-defined run_directory names</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>list</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">The names associated with the pre-defined run_directories.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="iprPy.database.load_database">
<code class="descname">load_database</code><span class="sig-paren">(</span><em>name=None</em>, <em>style=None</em>, <em>host=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.load_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a database object.  Can be either loaded from stored settings or
by defining all needed access information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The name assigned to a pre-defined database.  If given, can be the only
parameter.</li>
<li><strong>style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The database style to use.</li>
<li><strong>host</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The URL/file path where the database is hosted.</li>
<li><strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) – Any other keyword parameters defining necessary access information.
Allowed keywords are database style-specific.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The database object.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Subclass of iprPy.Database</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="iprPy.database.load_run_directory">
<code class="descname">load_run_directory</code><span class="sig-paren">(</span><em>name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.load_run_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a pre-defined run_directory from the settings file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name assigned to a pre-defined run_directory.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The path to the identified run_directory.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="iprPy.database.set_database">
<code class="descname">set_database</code><span class="sig-paren">(</span><em>name=None</em>, <em>style=None</em>, <em>host=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.set_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows for database information to be defined in the settings file. Screen
prompts will be given to allow any necessary database parameters to be
entered.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The name to assign to the database. If not given, the user will be
prompted to enter one.</li>
<li><strong>style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The database style associated with the database. If not given, the
user will be prompted to enter one.</li>
<li><strong>host</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The database host (directory path or url) where the database is
located. If not given, the user will be prompted to enter one.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="iprPy.database.set_run_directory">
<code class="descname">set_run_directory</code><span class="sig-paren">(</span><em>name=None</em>, <em>path=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.set_run_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows for run_directory information to be defined in the settings file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The name to assign to the run_directory.  If not given, the user will
be prompted to enter one.</li>
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – The directory path for the run_directory.  If not given, the user will
be prompted to enter one.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="iprPy.database.unset_database">
<code class="descname">unset_database</code><span class="sig-paren">(</span><em>name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.unset_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the settings for a pre-defined database from the settings file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name assigned to a pre-defined database.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="iprPy.database.unset_run_directory">
<code class="descname">unset_run_directory</code><span class="sig-paren">(</span><em>name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iprPy.database.unset_run_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the settings for a pre-defined run_directory from the settings
file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name assigned to a pre-defined run_directory.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">iprPy.database package</a><ul>
<li><a class="reference internal" href="#module-iprPy.database">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="calculation.html"
                        title="previous chapter">iprPy.calculation package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="input.html"
                        title="next chapter">iprPy.input package</a></p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="input.html" title="iprPy.input package"
             >next</a> |</li>
        <li class="right" >
          <a href="calculation.html" title="iprPy.calculation package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">iprPy 0.9.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >iprPy package</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>